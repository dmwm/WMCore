<html>
  <head>
    <title>WMStats</title>
    <style type="text/css" title="currentStyle">
        @import "css/basic_table.css";
        @import "css/basic_div.css";
        @import "css/ColVis.css";
        @import "css/layout-default-latest.css";
        @import "css/jquery-ui-1.8.18.custom.css";
        @import "css/layout.css";
        @import "css/main_layout.css";
    </style>
    </style>
    <!-- Brings in all the dependencies needed for this couchapp -->
    <script src="js/loader.js" type='text/javascript'> </script>

    <!-- Globals is needed to be loaded before other library -->
    <script src="js/WMStats.Globals.js" type='text/javascript'> </script>
    <script src="js/WMStats.Utils.js" type='text/javascript'> </script>
    <script src="js/WMStats.Couch.js" type='text/javascript'> </script>
    
    <!-- importing order is critical -->
    <!-- data structure -->
    <script src="js/DataStruct/import.js" type='text/javascript'> </script>
    
    <!-- table gui -->
    <script src="js/Views/Controls/import.js" type='text/javascript'> </script>
    <script src="js/Views/Tables/import.js" type='text/javascript'> </script>
    <script src="js/Views/HTMLList/import.js" type='text/javascript'> </script>
    <!-- Overview.js will load javascripts corresponding to variant dynamically  -->
    <script src="js/Models/import.js" type='text/javascript'> </script>
    <!-- Actions 
    <script src="js/Actions/import.js" type='text/javascript'> </script>
    -->
    <script src="js/Controller/import.js" type='text/javascript'> </script>
    <script>

    function retrieveData() {
        WMStats.ActiveRequestModel.retrieveData();
        // select initial summary view by global value (tier0, tier1, analysis)
        //WMStats.SiteModel.draw("#tab-site div[name='overview'] > div.body");
        //WMStats.AlertModel.draw("#tab-alert div[name='requestSummary'] > div.body");
        WMStats.AgentModel.retrieveData();
        //WMStats.AgentModel.setVisualization(WMStats.AgentsStatusGUI);
        //WMStats.AgentModel.draw("#tab-agent div[name='agentSummary']");
    }
    
    $(document).ready(function() {
        //myLayout = $('body').layout();
        $("#tabs").tabs();
        WMStats.Controls.setFilter("#filter_board");
        WMStats.Controls.setCategoryButton("#status_board");
        retrieveData();
        //position the job block against request block
        //$("div[name='requestSummary']").position({my:'left top', at:'left bottom', 
        //                          of:"div[name='overview']", offset:'0 20'})
        // $("div[name='jobSummary']").position({my:'left top', at:'left bottom', 
        //                          of:"div[name='requestSummary']", offset:'0 5'})
        // refresh table every 10 min                          
        //$("div[name='requestDetail']").position({my:'left top', at:'right top', 
        //                          of:"div[name='activeRequestDiv']", offset:'0 20'})
        setInterval(retrieveData, 100000)
     } );
    </script>
  </head>
<body>
    <!-- content to be placed inside <body>â€¦</body> -->
    <div id="monitor_title">
    tier0 MON
    </div>  
    <div id="message_board">
    </div>
    <div id="summary_board">
    </div>
    <div id="main_board">
        <div id="status_board">
        </div>
        <div id="hierarchy_board">
        </div>
        <div id="filter_summary">
        </div>
        <div id="filter_board">
        </div>
        <div id="data_board">
        </div>
    </div>
</body>
</html>
